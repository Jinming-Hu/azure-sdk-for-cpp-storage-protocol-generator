service_name: Blobs
output: generated/blob_rest_client.hpp

request_version_timeout_package: &REQUEST_VERSION_TIMEOUT_PACKAGE
  - [add_header_code, "x-ms-version", "2019-07-07"]
  - [add_query_code, "timeout", Timeout]

response_version_date_id_package: &RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
  - [get_header_code, "x-ms-version", Version]
  - [get_header_code, "Date", Date]
  - [get_header_code, "x-ms-request-id", RequestId]
  - [get_header_code, "x-ms-client-request-id", ClientRequestId]

request_encryption_package: &REQUEST_ENCRYPTION_HEADER_PACKAGE
  - [add_header_code, "x-ms-encryption-key", EncryptionKey]
  - [add_header_code, "x-ms-encryption-key-sha256", EncryptionKeySHA256]
  - [add_header_code, "x-ms-encryption-algorithm", EncryptionAlgorithm]

response_encryption_package: &RESPONSE_ENCRYPTION_HEADER_PACKAGE
  - [get_header_code, "x-ms-server-encrypted", ServerEncrypted]
  - [get_header_code, "x-ms-encryption-key-sha256", EncryptionKeySHA256]

response_etag_last_modified_package: &RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
  - [get_header_code, "ETag", ETag]
  - [get_header_code, "Last-Modified", LastModified]

request_checksum_package: &REQUEST_CHECKSUM_HEADER_PACKAGE
  - [add_header_code, "Content-MD5", ContentMD5]
  - [add_header_code, "x-ms-content-crc64", ContentCRC64]

response_checksum_package: &RESPONSE_CHECKSUM_HEADER_PACKAGE
  - [get_header_code, "Content-MD5", ContentMD5]
  - [get_header_code, "x-ms-content-crc64", ContentCRC64]

request_mime_package: &REQUEST_MIME_HEADER_PACKAGE
  - [add_header_code, "x-ms-blob-content-type", HttpHeaders.ContentType, optional]
  - [add_header_code, "x-ms-blob-content-encoding", HttpHeaders.ContentEncoding, optional]
  - [add_header_code, "x-ms-blob-content-language", HttpHeaders.ContentLanguage, optional]
  - [add_header_code, "x-ms-blob-cache-control", HttpHeaders.CacheControl, optional]
  - [add_header_code, "x-ms-blob-content-md5", HttpHeaders.ContentMD5, optional]
  - [add_header_code, "x-ms-blob-content-disposition", HttpHeaders.ContentDisposition, optional]

response_mime_package: &RESPONSE_MIME_HEADER_PACKAGE
  - [get_header_code, "Content-Type", HttpHeaders.ContentType, optional]
  - [get_header_code, "Content-Encoding", HttpHeaders.ContentEncoding, optional]
  - [get_header_code, "Content-Language", HttpHeaders.ContentLanguage, optional]
  - [get_header_code, "Cache-Control", HttpHeaders.CacheControl, optional]
  - [get_header_code, "Content-MD5", HttpHeaders.ContentMD5, optional]
  - [get_header_code, "Content-Disposition", HttpHeaders.ContentDisposition, optional]

response_lease_package: &RESPONSE_LEASE_HEADER_PACKAGE
  - [get_header_code, "x-ms-lease-status", LeaseStatus]
  - [get_header_code, "x-ms-lease-state", LeaseState]
  - [get_header_code, "x-ms-lease-duration", LeaseDuration]

request_conditional_headers_package: &REQUEST_CONDITIONAL_HEADER_PACKAGE
  - [add_header_code, "If-Modified-Since", IfModifiedSince]
  - [add_header_code, "If-Unmodified-Since", IfUnmodifiedSince]
  - [add_header_code, "If-Match", IfMatch]
  - [add_header_code, "If-None-Match", IfNoneMatch]

request_source_conditional_headers_package: &REQUEST_SOURCE_CONDITIONAL_HEADER_PACKAGE
  - [add_header_code, "x-ms-source-if-modified-since", SourceIfModifiedSince]
  - [add_header_code, "x-ms-source-if-unmodified-since", SourceIfUnmodifiedSince]
  - [add_header_code, "x-ms-source-if-match", SourceIfMatch]
  - [add_header_code, "x-ms-source-if-none-match", SourceIfNoneMatch]

Services:
  - Service:
    - ListBlobContainers:
        http_method: Get
        http_status_code: 200
        return_type:
          ListContainersSegment:
            - BasicResponse: inline
            - ServiceEndpoint: std::string
            - Prefix: std::string
            - Marker: std::string
            - NextMarker: std::string
            - Items: std::vector<BlobContainerItem>
            - from_xml: [
              [attribute, EnumerationResults, ServiceEndpoint, ServiceEndpoint],
              [text, EnumerationResults.Prefix, Prefix],
              [text, EnumerationResults.Marker, Marker],
              [text, EnumerationResults.NextMarker, NextMarker],
              [start_tag, EnumerationResults.Containers.Container, Items],
            ]
        options:
          - BasicRequestOptions: inline
          - Prefix: std::string, nullable
          - Marker: std::string, nullable
          - MaxResults: int32_t, nullable
          - IncludeMetadata: ListBlobContainersIncludeOption, nullable
        request_action:
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_query_code, "comp", "list"]
          - [add_query_code, "prefix", Prefix]
          - [add_query_code, "marker", Marker]
          - [add_query_code, "maxresults", MaxResults]
          - [add_query_code, "include", IncludeMetadata]
        response_action:
          - [get_xml_body_code]  # must be the first
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE

    - GetUserDelegationKey:
        http_method: Post
        http_status_code: 200
        return_type: UserDelegationKey
        options:
          - BasicRequestOptions: inline
          - StartsOn: std::string
          - ExpiresOn: std::string
          - to_xml: [
            [tag, KeyInfo.Start, StartsOn],
            [tag, KeyInfo.Expiry, ExpiresOn],
          ]
        request_action:
          - [add_xml_body_code]  # must be the first one
          - [add_query_code, "restype", "service"]
          - [add_query_code, "comp", "userdelegationkey"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
        response_action:
          - [get_xml_body_code]  # must be the first
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE

  - Container:
    - Create:
        http_method: Put
        http_status_code: 201
        return_type: BlobContainerInfo
        options:
          - BasicRequestOptions: inline
          - AccessType: PublicAccessType, nullable
          - Metadata: std::map<std::string, std::string>
        request_action:
          - [add_query_code, "restype", "container"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_metadata_code, "x-ms-meta-", Metadata]
          - [add_header_code, "x-ms-blob-public-access", AccessType]
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE

    - Delete:
        http_method: Delete
        http_status_code: 202
        return_type:
          DeleteContainerResponse:
            - BasicResponse: inline
        options:
          - BasicRequestOptions: inline
          - IfModifiedSince: std::string, nullable
          - IfUnmodifiedSince: std::string, nullable
        request_action:
          - [add_query_code, "restype", "container"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_header_code, "If-Modified-Since", IfModifiedSince]
          - [add_header_code, "If-Unmodified-Since", IfUnmodifiedSince]
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE

    - GetProperties:
        http_method: Head
        http_status_code: 200
        return_type:
          BlobContainerProperties:
            - BasicResponse: inline
            - BlobContainerItemWithoutName: inline
        options:
          - BasicRequestOptions: inline
          - BlobRequestEncryptionOptions: inline
        request_action:
          - [add_query_code, "restype", "container"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - [get_metadata_code, "x-ms-meta-", Metadata, optional]
          - [get_header_code, "x-ms-blob-public-access", AccessType, optional]
          - [get_header_code, "x-ms-has-immutability-policy", HasImmutabilityPolicy]
          - [get_header_code, "x-ms-has-legal-hold", HasLegalHold]
          - *RESPONSE_LEASE_HEADER_PACKAGE

    - SetMetadata:
        http_method: Put
        http_status_code: 200
        return_type:
          SetContainerMetadataResponse:
            - BlobContainerInfo: inline
        options:
          - BasicRequestOptions: inline
          - Metadata: std::map<std::string, std::string>
          - IfModifiedSince: std::string, nullable
        request_action:
          - [add_query_code, "restype", "container"]
          - [add_query_code, "comp", "metadata"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_metadata_code, "x-ms-meta-", Metadata]
          - [add_header_code, "If-Modified-Since", IfModifiedSince]
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE

    - ListBlobs:
        http_method: Get
        http_status_code: 200
        return_type:
          BlobsFlatSegment:
            - BasicResponse: inline
            - ServiceEndpoint: std::string
            - Container: std::string
            - Prefix: std::string
            - Marker: std::string
            - NextMarker: std::string
            - Delimiter: std::string
            - Items: std::vector<BlobItem>
            - from_xml: [
              [attribute, EnumerationResults, ServiceEndpoint, ServiceEndpoint],
              [attribute, EnumerationResults, ContainerName, Container],
              [text, EnumerationResults.Prefix, Prefix],
              [text, EnumerationResults.Marker, Marker],
              [text, EnumerationResults.NextMarker, NextMarker],
              [text, EnumerationResults.Delimiter, Delimiter],
              [start_tag, EnumerationResults.Blobs.Blob, Items],
            ]
        options:
          - BasicRequestOptions: inline
          - Prefix: std::string, nullable
          - Delimiter: std::string, nullable
          - Marker: std::string, nullable
          - MaxResults: int32_t, nullable
          - Include: std::vector<ListBlobsIncludeItem>
        request_action:
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_query_code, "restype", "container"]
          - [add_query_code, "comp", "list"]
          - [add_query_code, "prefix", Prefix]
          - [add_query_code, "delimiter", Delimiter]
          - [add_query_code, "marker", Marker]
          - [add_query_code, "maxresults", MaxResults]
          - [add_query_code, "include", Include, optional]
        response_action:
          - [get_xml_body_code]  # must be the first
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE

  - Blob:
    - Download:
        http_method: Get
        http_status_code: [200, 206]
        return_type: BlobDownloadResponse
        options:
          - BasicRequestOptions: inline
          - Range: std::pair<int64_t, int64_t>, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        request_action:
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_range_header_code, "x-ms-range", Range]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - *RESPONSE_CHECKSUM_HEADER_PACKAGE
          - *RESPONSE_MIME_HEADER_PACKAGE
          - [get_metadata_code, "x-ms-meta-", Metadata, optional]
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE
          - *RESPONSE_LEASE_HEADER_PACKAGE
          - [get_header_code, "Content-Range", ContentRange]
          - [get_header_code, "x-ms-blob-sequence-number", SequenceNumber]
          - [get_header_code, "x-ms-blob-committed-block-count", CommittedBlockCount]
          - [get_header_code, "x-ms-blob-type", BlobType]
          - [get_body_code, BodyStream]

    - Delete:
        http_method: Delete
        http_status_code: 202
        return_type:
          DeleteBlobResponse:
            - BasicResponse: inline
        options:
          - BasicRequestOptions: inline
          - DeleteSnapshots: DeleteSnapshotsOption, nullable
          - BlobRequestConditionalHeaders: inline
        request_action:
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_header_code, "x-ms-delete-snapshots", DeleteSnapshots]
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE

    - Undelete:
        http_method: Put
        http_status_code: 200
        return_type:
          UndeleteBlobResponse:
            - BasicResponse: inline
        options:
          - BasicRequestOptions: inline
        request_action:
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_query_code, "comp", "undelete"]
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE

    - GetProperties:
        http_method: Head
        http_status_code: 200
        return_type: BlobProperties
        options:
          - BasicRequestOptions: inline
          - BlobRequestConditionalHeaders: inline
        request_action:
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - [get_header_code, "x-ms-creation-time", CreationTime]
          - [get_metadata_code, "x-ms-meta-", Metadata, optional]
          - [get_header_code, "x-ms-blob-type", BlobType]
          - *RESPONSE_LEASE_HEADER_PACKAGE
          - [get_header_code, "Content-Length", ContentLength]
          - *RESPONSE_MIME_HEADER_PACKAGE
          - [get_header_code, "x-ms-blob-sequence-number", SequenceNumber]
          - [get_header_code, "x-ms-blob-committed-block-count", CommittedBlockCount]
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE
          - [get_header_code, "x-ms-access-tier", Tier]
          - [get_header_code, "x-ms-access-tier-inferred", AccessTierInferred]
          - [get_header_code, "x-ms-archive-status", ArchiveStatus]
          - [get_header_code, "x-ms-access-tier-change-time", AccessTierChangeTime]
          - [get_header_code, "x-ms-copy-id", CopyId]
          - [get_header_code, "x-ms-copy-source", CopySource]
          - [get_header_code, "x-ms-copy-status", CopyStatus]
          - [get_header_code, "x-ms-copy-progress", CopyProgress]
          - [get_header_code, "x-ms-copy-completion-time", CopyCompletionTime]

    - SetHttpHeaders:
        http_method: Put
        http_status_code: 200
        return_type:
          SetBlobHttpHeadersResponse:
            - BlobInfo: inline
        options:
          - BasicRequestOptions: inline
          - HttpHeaders: BlobHttpHeaders
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        request_action:
          - [add_query_code, "comp", "properties"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - *REQUEST_MIME_HEADER_PACKAGE
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - [get_header_code, "x-ms-blob-sequence-number", SequenceNumber]

    - SetMetadata:
        http_method: Put
        http_status_code: 200
        return_type:
          SetBlobMetadataResponse:
            - BlobInfo: inline
        options:
          - BasicRequestOptions: inline
          - Metadata: std::map<std::string, std::string>
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        request_action:
          - [add_query_code, "comp", "metadata"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_metadata_code, "x-ms-meta-", Metadata]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE

    - SetAccessTier:
        http_method: Put
        http_status_code: [200, 202]
        return_type:
          SetAccessTierResponse:
            - BasicResponse: inline
        options:
          - BasicRequestOptions: inline
          - Tier: AccessTier = AccessTier::Unknown
          - RehydratePriority: RehydratePriority, nullable
        request_action:
          - [add_query_code, "comp", "tier"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_header_code, "x-ms-access-tier", Tier]
          - [add_header_code, "x-ms-rehydrate-priority", RehydratePriority]
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE

    - StartCopyFromUri:
        http_method: Put
        http_status_code: 202
        return_type: BlobCopyInfo
        options:
          - BasicRequestOptions: inline
          - Metadata: std::map<std::string, std::string>
          - SourceUri: std::string
          - LeaseId: std::string, nullable
          - SourceLeaseId: std::string, nullable
          - Tier: AccessTier, nullable
          - RehydratePriority: RehydratePriority, nullable
          - BlobRequestConditionalHeaders: inline
          - BlobRequestSourceConditionalHeaders: inline
        request_action:
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_metadata_code, "x-ms-meta-", Metadata]
          - [add_header_code, "x-ms-copy-source", SourceUri]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - [add_header_code, "x-ms-source-lease-id", SourceLeaseId]
          - [add_header_code, "x-ms-access-tier", Tier]
          - [add_header_code, "x-ms-rehydrate-priority", RehydratePriority]
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
          - *REQUEST_SOURCE_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - [get_header_code, "x-ms-copy-id", CopyId]
          - [get_header_code, "x-ms-copy-status", CopyStatus]

    - AbortCopyFromUri:
        http_method: Put
        http_status_code: 204
        return_type:
          AbortCopyBlobResponse:
            - BasicResponse: inline
        options:
          - BasicRequestOptions: inline
          - CopyId: std::string
          - LeaseId: std::string, nullable
        request_action:
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_query_code, "comp", "copy"]
          - [add_query_code, "copyid", CopyId]
          - [add_header_code, "x-ms-copy-action", "abort"]
          - [add_header_code, "x-ms-lease-id", LeaseId]
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE

    - CreateSnapshot:
        http_method: Put
        http_status_code: 201
        return_type: BlobSnapshotInfo
        options:
          - BasicRequestOptions: inline
          - Metadata: std::map<std::string, std::string>
          - LeaseId: std::string, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        request_action:
          - [add_query_code, "comp", "snapshot"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - [add_metadata_code, "x-ms-meta-", Metadata]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE
          - [get_header_code, "x-ms-snapshot", Snapshot]

  - BlockBlob:
    - Upload:
        http_method: Put
        http_status_code: 201
        return_type: BlobContentInfo
        options:
          - BodiedRequestOptions: inline
          - ContentMD5: std::string, nullable
          - ContentCRC64: std::string, nullable
          - HttpHeaders: BlobHttpHeaders
          - Metadata: std::map<std::string, std::string>
          - LeaseId: std::string, nullable
          - Tier: AccessTier, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        request_action:
          - [add_body_code]  # must be the first one
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CHECKSUM_HEADER_PACKAGE
          - *REQUEST_MIME_HEADER_PACKAGE
          - [add_metadata_code, "x-ms-meta-", Metadata]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - [add_header_code, "x-ms-blob-type", "BlockBlob"]
          - [add_header_code, "x-ms-access-tier", Tier]
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - *RESPONSE_CHECKSUM_HEADER_PACKAGE
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE

    - StageBlock:
        http_method: Put
        http_status_code: 201
        return_type: BlockInfo
        options:
          - BodiedRequestOptions: inline
          - BlockId: std::string
          - ContentMD5: std::string, nullable
          - ContentCRC64: std::string, nullable
          - LeaseId: std::string, nullable
          - BlobRequestEncryptionOptions: inline
        request_action:
          - [add_body_code]  # must be the first one
          - [add_query_code, "comp", "block"]
          - [add_query_code, "blockid", BlockId]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - *REQUEST_CHECKSUM_HEADER_PACKAGE
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_CHECKSUM_HEADER_PACKAGE
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE

    - StageBlockFromUri:
        http_method: Put
        http_status_code: 201
        return_type: BlockInfo
        options:
          - BasicRequestOptions: inline
          - BlockId: std::string
          - SourceUri: std::string
          - SourceRange: std::pair<int64_t, int64_t>, nullable
          - ContentMD5: std::string, nullable
          - ContentCRC64: std::string, nullable
          - LeaseId: std::string, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestSourceConditionalHeaders: inline
        request_action:
          - [add_query_code, "comp", "block"]
          - [add_query_code, "blockid", BlockId]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_header_code, "x-ms-copy-source", SourceUri]
          - [add_range_header_code, "x-ms-source_range", SourceRange]
          - [add_header_code, "x-ms-source-content-md5", ContentMD5]
          - [add_header_code, "x-ms-source-content-crc64", ContentCRC64]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_SOURCE_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_CHECKSUM_HEADER_PACKAGE
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE

    - CommitBlockList:
        http_method: Put
        http_status_code: 201
        return_type: BlobContentInfo
        options:
          - BasicRequestOptions: inline
          - BlockList: std::vector<std::pair<BlockType, std::string>>
          - HttpHeaders: BlobHttpHeaders
          - Metadata: std::map<std::string, std::string>
          - LeaseId: std::string, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
          - Tier: AccessTier, nullable
          - to_xml: [
            [tag, BlockList, BlockList]
          ]
        request_action:
          - [add_xml_body_code]  # must be the first one
          - [add_query_code, "comp", "blocklist"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - *REQUEST_MIME_HEADER_PACKAGE
          - [add_metadata_code, "x-ms-meta-", Metadata]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - [add_header_code, "x-ms-access-tier", Tier]
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE

    - GetBlockList:
        http_method: Get
        http_status_code: 200
        options:
            - BasicRequestOptions: inline
            - ListType: BlockListTypeOption, nullable
            - BlobRequestConditionalHeaders: inline
        return_type:
          BlobBlockListInfo:
            - BasicResponse: inline
            - ETag: std::string
            - LastModified: std::string
            - ContentType: std::string
            - ContentLength: int64_t = 0
            - CommittedBlocks: std::vector<BlobBlock>
            - UncommittedBlocks: std::vector<BlobBlock>
            - from_xml: [
              [start_tag, BlockList.CommittedBlocks.Block, CommittedBlocks],
              [start_tag, BlockList.UncommittedBlocks.Block, UncommittedBlocks],
            ]
        request_action:
            - [add_query_code, "comp", "blocklist"]
            - [add_query_code, "blocklisttype", ListType]
            - *REQUEST_VERSION_TIMEOUT_PACKAGE
            - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
            - [get_xml_body_code]  # must be the first
            - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
            - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
            - [get_header_code, "Content-Type", ContentType]
            - [get_header_code, "x-ms-blob-content-length", ContentLength]

  - PageBlob:
    - Create:
        http_method: Put
        http_status_code: 201
        return_type: BlobContentInfo
        options:
          - BasicRequestOptions: inline
          - BlobContentLength: int64_t
          - SequenceNumber: int64_t, nullable
          - HttpHeaders: BlobHttpHeaders
          - Metadata: std::map<std::string, std::string>
          - LeaseId: std::string, nullable
          - Tier: AccessTier, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        request_action:
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - *REQUEST_MIME_HEADER_PACKAGE
          - [add_metadata_code, "x-ms-meta-", Metadata]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - [add_header_code, "x-ms-blob-type", "PageBlob"]
          - [add_header_code, "x-ms-blob-content-length", BlobContentLength]
          - [add_header_code, "x-ms-blob-sequence-number", SequenceNumber]
          - [add_header_code, "x-ms-access-tier", Tier]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - *RESPONSE_CHECKSUM_HEADER_PACKAGE
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE

    - UploadPages:
        http_method: Put
        http_status_code: 201
        options:
          - BodiedRequestOptions: inline
          - Range: std::pair<int64_t, int64_t>
          - ContentMD5: std::string, nullable
          - ContentCRC64: std::string, nullable
          - LeaseId: std::string, nullable
          - IfSequenceNumberLessThanOrEqualTo: int64_t, nullable
          - IfSequenceNumberLessThan: int64_t, nullable
          - IfSequenceNumberEqualTo: int64_t, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        return_type: PageInfo
        request_action:
          - [add_body_code]  # must be the first one
          - [add_query_code, "comp", "page"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_range_header_code, "x-ms-range", Range]
          - *REQUEST_CHECKSUM_HEADER_PACKAGE
          - [add_header_code, "x-ms-page-write", "update"]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - [add_header_code, "x-ms-if-sequence-number-le", IfSequenceNumberLessThanOrEqualTo]
          - [add_header_code, "x-ms-if-sequence-number-lt", IfSequenceNumberLessThan]
          - [add_header_code, "x-ms-if-sequence-number-eq", IfSequenceNumberEqualTo]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - *RESPONSE_CHECKSUM_HEADER_PACKAGE
          - [get_header_code, "x-ms-blob-sequence-number", SequenceNumber]
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE

    - UploadPagesFromUri:
        http_method: Put
        http_status_code: 201
        options:
          - BasicRequestOptions: inline
          - SourceUri: std::string
          - SourceRange: std::pair<int64_t, int64_t>
          - Range: std::pair<int64_t, int64_t>
          - ContentMD5: std::string, nullable
          - ContentCRC64: std::string, nullable
          - LeaseId: std::string, nullable
          - IfSequenceNumberLessThanOrEqualTo: int64_t, nullable
          - IfSequenceNumberLessThan: int64_t, nullable
          - IfSequenceNumberEqualTo: int64_t, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        return_type: PageInfo
        request_action:
          - [add_query_code, "comp", "page"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_range_header_code, "x-ms-range", Range]
          - [add_header_code, "x-ms-copy-source", SourceUri]
          - [add_range_header_code, "x-ms-source-range", SourceRange]
          - [add_header_code, "x-ms-source-content-md5", ContentMD5]
          - [add_header_code, "x-ms-source-content-crc64", ContentCRC64]
          - [add_header_code, "x-ms-page-write", "update"]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - [add_header_code, "x-ms-if-sequence-number-le", IfSequenceNumberLessThanOrEqualTo]
          - [add_header_code, "x-ms-if-sequence-number-lt", IfSequenceNumberLessThan]
          - [add_header_code, "x-ms-if-sequence-number-eq", IfSequenceNumberEqualTo]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - *RESPONSE_CHECKSUM_HEADER_PACKAGE
          - [get_header_code, "x-ms-blob-sequence-number", SequenceNumber]
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE

    - ClearPages:
        http_method: Put
        http_status_code: 201
        options:
          - BasicRequestOptions: inline
          - Range: std::pair<int64_t, int64_t>
          - LeaseId: std::string, nullable
          - IfSequenceNumberLessThanOrEqualTo: int64_t, nullable
          - IfSequenceNumberLessThan: int64_t, nullable
          - IfSequenceNumberEqualTo: int64_t, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        return_type: PageInfo
        request_action:
          - [add_query_code, "comp", "page"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_range_header_code, "x-ms-range", Range]
          - [add_header_code, "x-ms-page-write", "clear"]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - [add_header_code, "x-ms-if-sequence-number-le", IfSequenceNumberLessThanOrEqualTo]
          - [add_header_code, "x-ms-if-sequence-number-lt", IfSequenceNumberLessThan]
          - [add_header_code, "x-ms-if-sequence-number-eq", IfSequenceNumberEqualTo]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - [get_header_code, "x-ms-blob-sequence-number", SequenceNumber]
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE

    - Resize:
        http_method: Put
        http_status_code: 200
        return_type: PageBlobInfo
        options:
          - BasicRequestOptions: inline
          - BlobContentLength: int64_t
          - LeaseId: std::string, nullable
          - IfSequenceNumberLessThanOrEqualTo: int64_t, nullable
          - IfSequenceNumberLessThan: int64_t, nullable
          - IfSequenceNumberEqualTo: int64_t, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        request_action:
          - [add_query_code, "comp", "properties"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_header_code, "x-ms-blob-content-length", BlobContentLength]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - [add_header_code, "x-ms-if-sequence-number-le", IfSequenceNumberLessThanOrEqualTo]
          - [add_header_code, "x-ms-if-sequence-number-lt", IfSequenceNumberLessThan]
          - [add_header_code, "x-ms-if-sequence-number-eq", IfSequenceNumberEqualTo]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - [get_header_code, "x-ms-blob-sequence-number", SequenceNumber]

    - GetPageRanges:
        http_method: Get
        http_status_code: 200
        return_type: PageRangesInfoInternal
        options:
          - BasicRequestOptions: inline
          - PreviousSnapshot: std::string, nullable
          - PreviousSnapshotUrl: std::string, nullable
          - Range: std::pair<int64_t, int64_t>, nullable
          - LeaseId: std::string, nullable
          - BlobRequestConditionalHeaders: inline
        request_action:
          - [add_query_code, "comp", "pagelist"]
          - [add_query_code, "prevsnapshot", PreviousSnapshot]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_range_header_code, "x-ms-range", Range]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - [add_header_code, "x-ms-previous-snapshot-url", PreviousSnapshotUrl]
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - [get_xml_body_code]  # must be the first
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - [get_header_code, "x-ms-blob-content-length", BlobContentLength]

    - CopyIncremental:
        http_method: Put
        http_status_code: 202
        return_type: BlobCopyInfo
        options:
          - BasicRequestOptions: inline
          - CopySource: std::string
          - BlobRequestConditionalHeaders: inline
        request_action:
          - [add_query_code, "comp", "incrementalcopy"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_header_code, "x-ms-copy-source", CopySource]
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - [get_header_code, "x-ms-copy-id", CopyId]
          - [get_header_code, "x-ms-copy-status", CopyStatus]

  - AppendBlob:
    - Create:
        http_method: Put
        http_status_code: 201
        return_type: BlobContentInfo
        options:
          - BasicRequestOptions: inline
          - HttpHeaders: BlobHttpHeaders
          - Metadata: std::map<std::string, std::string>
          - LeaseId: std::string, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        request_action:
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - *REQUEST_MIME_HEADER_PACKAGE
          - [add_metadata_code, "x-ms-meta-", Metadata]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - [add_header_code, "x-ms-blob-type", "AppendBlob"]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - *RESPONSE_CHECKSUM_HEADER_PACKAGE
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE

    - AppendBlock:
        http_method: Put
        http_status_code: 201
        return_type: BlobAppendInfo
        options:
          - BodiedRequestOptions: inline
          - ContentMD5: std::string, nullable
          - ContentCRC64: std::string, nullable
          - LeaseId: std::string, nullable
          - MaxSize: int64_t, nullable
          - AppendPosition: int64_t, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        request_action:
          - [add_body_code]  # must be the first one
          - [add_query_code, "comp", "appendblock"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - *REQUEST_CHECKSUM_HEADER_PACKAGE
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - [add_header_code, "x-ms-blob-condition-maxsize", MaxSize]
          - [add_header_code, "x-ms-blob-condition-appendpos", AppendPosition]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - *RESPONSE_CHECKSUM_HEADER_PACKAGE
          - [get_header_code, "x-ms-blob-append-offset", AppendOffset]
          - [get_header_code, "x-ms-blob-committed-block-count", CommittedBlockCount]
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE

    - AppendBlockFromUri:
        http_method: Put
        http_status_code: 201
        return_type: BlobAppendInfo
        options:
          - BasicRequestOptions: inline
          - SourceUri: std::string
          - SourceRange: std::pair<int64_t, int64_t>, nullable
          - ContentMD5: std::string, nullable
          - ContentCRC64: std::string, nullable
          - LeaseId: std::string, nullable
          - MaxSize: int64_t, nullable
          - AppendPosition: int64_t, nullable
          - BlobRequestEncryptionOptions: inline
          - BlobRequestConditionalHeaders: inline
        request_action:
          - [add_query_code, "comp", "appendblock"]
          - *REQUEST_VERSION_TIMEOUT_PACKAGE
          - [add_header_code, "x-ms-copy-source", SourceUri]
          - [add_range_header_code, "x-ms-source-range", SourceRange]
          - [add_header_code, "x-ms-source-content-md5", ContentMD5]
          - [add_header_code, "x-ms-source-content-crc64", ContentCRC64]
          - [add_header_code, "x-ms-lease-id", LeaseId]
          - [add_header_code, "x-ms-blob-condition-maxsize", MaxSize]
          - [add_header_code, "x-ms-blob-condition-appendpos", AppendPosition]
          - *REQUEST_ENCRYPTION_HEADER_PACKAGE
          - *REQUEST_CONDITIONAL_HEADER_PACKAGE
        response_action:
          - *RESPONSE_VERSION_DATE_ID_HEADER_PACKAGE
          - *RESPONSE_ETAG_LAST_MODIFIED_HEADER_PACKAGE
          - *RESPONSE_CHECKSUM_HEADER_PACKAGE
          - [get_header_code, "x-ms-blob-append-offset", AppendOffset]
          - [get_header_code, "x-ms-blob-committed-block-count", CommittedBlockCount]
          - *RESPONSE_ENCRYPTION_HEADER_PACKAGE

Models:
  BasicRequestOptions:
    - noexport: true
    - type: struct
    - Timeout: int32_t, nullable
  BodiedRequestOptions:
    - noexport: true
    - type: struct
    - BasicRequestOptions: inline
  BasicResponse:
    - noexport: true
    - type: struct
    - RequestId: std::string
    - Date: std::string
    - Version: std::string
    - ClientRequestId: std::string, nullable
  BodiedResponse:
    - noexport: true
    - type: struct
    - BasicResponse: inline
    - BodyStream: std::unique_ptr<Azure::Core::Http::BodyStream>
  PublicAccessType:
    - type: enum class
    - Container: "container"
    - Blob: "blob"
    - Private: ""
  BlockType:
    - type: enum class
    - Committed
    - Uncommitted
    - Latest
  BlobType:
    - type: enum class
    - Unknown: ""
    - BlockBlob
    - PageBlob
    - AppendBlob
  BlobLeaseState:
    - type: enum class
    - Available: "available"
    - Leased: "leased"
    - Expired: "expired"
    - Breaking: "breaking"
    - Broken: "broken"
  BlobLeaseStatus:
    - type: enum class
    - Locked: "locked"
    - Unlocked: "unlocked"
  AccessTier:
    - type: enum class
    - Unknown: ""
    - P1
    - P2
    - P3
    - P4
    - P6
    - P10
    - P15
    - P20
    - P30
    - P40
    - P50
    - P60
    - P70
    - P80
    - Hot
    - Cool
    - Archive
  RehydratePriority:
    - type: enum class
    - Unknown: ""
    - High: "High"
    - Standard: "Standard"
  CopyStatus:
    - type: enum class
    - Unknown: ""
    - Success: "success"
    - Pending: "pending"
  BlobBlock:
    - Name: std::string
    - Size: int64_t = 0
    - from_xml: [
      [text, Name, Name],
      [text, Size, Size],
    ]
  BlobRequestConditionalHeaders:
    - IfModifiedSince: std::string, nullable
    - IfUnmodifiedSince: std::string, nullable
    - IfMatch: std::string, nullable
    - IfNoneMatch: std::string, nullable
  BlobRequestSourceConditionalHeaders:
    - SourceIfModifiedSince: std::string, nullable
    - SourceIfUnmodifiedSince: std::string, nullable
    - SourceIfMatch: std::string, nullable
    - SourceIfNoneMatch: std::string, nullable
  BlockInfo:
    - BasicResponse: inline
    - ContentMD5: std::string, nullable
    - ContentCRC64: std::string, nullable
    - BlobResponseEncryptionOptions: inline
  BlobHttpHeaders:
    - ContentType: std::string
    - ContentEncoding: std::string
    - ContentLanguage: std::string
    - ContentMD5: std::string
    - CacheControl: std::string
    - ContentDisposition: std::string
  BlobRequestEncryptionOptions:
    - noexport: true
    - EncryptionKey: std::string, nullable
    - EncryptionKeySHA256: std::string, nullable
    - EncryptionAlgorithm: std::string, nullable
  BlobResponseEncryptionOptions:
    - noexport: true
    - ServerEncrypted: bool, nullable
    - EncryptionKeySHA256: std::string, nullable
  FlattenedDownloadProperties:
    - noexport: true
    - type: struct
    - BodiedResponse: inline
    - ETag: std::string
    - LastModified: std::string
    - ContentRange: std::string, nullable
    - HttpHeaders: BlobHttpHeaders
    - Metadata: std::map<std::string, std::string>
    - SequenceNumber: int64_t, nullable  # only for page blob
    - CommittedBlockCount: int64_t, nullable  # only for append blob
    - BlobType: BlobType = BlobType::Unknown
    - ContentMD5: std::string, nullable  # MD5 for the downloaded range
    - ContentCRC64: std::string, nullable
    - LeaseDuration: std::string, nullable
    - LeaseState: BlobLeaseState, nullable
    - LeaseStatus: BlobLeaseStatus, nullable
    - BlobResponseEncryptionOptions: inline
  BlobDownloadResponse:
    - FlattenedDownloadProperties: inline
  BlobContentInfo:
    - type: struct
    - BasicResponse: inline
    - ETag: std::string
    - LastModified: std::string
    - ContentMD5: std::string, nullable
    - ContentCRC64: std::string, nullable
    - SequenceNumber: int64_t, nullable
    - BlobResponseEncryptionOptions: inline
  BlobContainerItemWithoutName:
    - noexport: true
    - ETag: std::string
    - LastModified: std::string
    - Metadata: std::map<std::string, std::string>
    - AccessType: PublicAccessType = PublicAccessType::Private
    - HasImmutabilityPolicy: bool = false
    - HasLegalHold: bool = false
    - LeaseDuration: std::string, nullable
    - LeaseState: BlobLeaseState = BlobLeaseState::Available
    - LeaseStatus: BlobLeaseStatus = BlobLeaseStatus::Unlocked
  BlobContainerItem:
    - Name: std::string
    - BlobContainerItemWithoutName: inline
    - from_xml: [
      [text, Name, Name],
      [text, Properties.Etag, ETag],
      [text, Properties.Last-Modified, LastModified],
      [text, Properties.PublicAccess, AccessType],
      [text, Properties.HasImmutabilityPolicy, HasImmutabilityPolicy],
      [text, Properties.HasLegalHold, HasLegalHold],
      [text, Properties.LeaseStatus, LeaseStatus],
      [text, Properties.LeaseState, LeaseState],
      [text, Properties.LeaseDuration, LeaseDuration],
      [start_tag, Metadata, Metadata],
    ]
  BlobItem:
    - Name: std::string
    - Deleted: bool = false
    - Snapshot: std::string
    - HttpHeaders: BlobHttpHeaders
    - Metadata: std::map<std::string, std::string>
    - CreationTime: std::string
    - LastModified: std::string
    - ETag: std::string
    - ContentLength: int64_t = 0
    - BlobType: BlobType = BlobType::Unknown
    - Tier: AccessTier = AccessTier::Unknown
    - AccessTierInferred: bool = true
    - LeaseStatus: BlobLeaseStatus = BlobLeaseStatus::Unlocked
    - LeaseState: BlobLeaseState = BlobLeaseState::Available
    - LeaseDuration: std::string, nullable
    - BlobResponseEncryptionOptions: inline
    - from_xml: [
      [text, Name, Name],
      [text, Deleted, Deleted],
      [text, Snapshot, Snapshot],
      [text, Properties.Content-Type, HttpHeaders.ContentType],
      [text, Properties.Content-Encoding, HttpHeaders.ContentEncoding],
      [text, Properties.Content-Language, HttpHeaders.ContentLanguage],
      [text, Properties.Content-MD5, HttpHeaders.ContentMD5],
      [text, Properties.Cache-Control, HttpHeaders.CacheControl],
      [text, Properties.Content-Disposition, HttpHeaders.ContentDisposition],
      [text, Properties.Creation-Time, CreationTime],
      [text, Properties.Last-Modified, LastModified],
      [text, Properties.Etag, ETag],
      [text, Properties.Content-Length, ContentLength],
      [text, Properties.BlobType, BlobType],
      [text, Properties.AccessTier, Tier],
      [text, Properties.AccessTierInferred, AccessTierInferred],
      [text, Properties.LeaseStatus, LeaseStatus],
      [text, Properties.LeaseState, LeaseState],
      [text, Properties.LeaseDuration, LeaseDuration],
      [text, Properties.ServerEncrypted, ServerEncrypted],
      [text, Properties.EncryptionKeySHA256, EncryptionKeySHA256],
      [start_tag, Metadata, Metadata],
    ]
  ListBlobsIncludeItem:
    - type: enum class
    - Copy: copy
    - Deleted: "deleted"
    - Metadata: "metadata"
    - Snapshots: "snapshots"
    - UncomittedBlobs: "uncommittedblobs"
  BlobContainerInfo:
    - BasicResponse: inline
    - ETag: std::string
    - LastModified: std::string
  ListBlobContainersIncludeOption:
    - type: enum class
    - None: ""
    - Metadata: "metadata"
  BlockListTypeOption:
    - type: enum class
    - Committed: "committed"
    - Uncommitted: "uncommitted"
    - All: "all"
  DeleteSnapshotsOption:
    - type: enum class
    - None: ""
    - IncludeSnapshots: "include"
    - Only: "only"
  BlobArchiveStatus:
    - type: enum class
    - Unknown: ""
    - RehydratePendingToHot: "rehydrate-pending-to-hot"
    - RehydratePendingToCool: "rehydrate-pending-to-cool"
  BlobProperties:
    - BasicResponse: inline
    - ETag: std::string
    - LastModified: std::string
    - CreationTime: std::string
    - Metadata: std::map<std::string, std::string>
    - BlobType: BlobType = BlobType::Unknown
    - LeaseDuration: std::string, nullable
    - LeaseState: BlobLeaseState, nullable
    - LeaseStatus: BlobLeaseStatus, nullable
    - ContentLength: int64_t = 0
    - HttpHeaders: BlobHttpHeaders
    - SequenceNumber: int64_t, nullable  # only for page blob
    - CommittedBlockCount: int32_t, nullable  # only for append blob
    - BlobResponseEncryptionOptions: inline
    - Tier: AccessTier, nullable
    - AccessTierInferred: bool, nullable
    - ArchiveStatus: BlobArchiveStatus, nullable
    - AccessTierChangeTime: std::string, nullable
    - CopyId: std::string, nullable
    - CopySource: std::string, nullable
    - CopyStatus: CopyStatus, nullable
    - CopyProgress: std::string, nullable
    - CopyCompletionTime: std::string, nullable
  BlobInfo:
    - BasicResponse: inline
    - ETag: std::string
    - LastModified: std::string
    - SequenceNumber: int64_t, nullable
  BlobCopyInfo:
    - BasicResponse: inline
    - ETag: std::string
    - LastModified: std::string
    - CopyId: std::string
    - CopyStatus: CopyStatus = CopyStatus::Unknown
  BlobSnapshotInfo:
    - BasicResponse: inline
    - Snapshot: std::string
    - ETag: std::string
    - LastModified: std::string
    - BlobResponseEncryptionOptions: inline
  UserDelegationKey:
    - BasicResponse: inline
    - SignedObjectId: std::string
    - SignedTenantId: std::string
    - SignedStartsOn: std::string
    - SignedExpiresOn: std::string
    - SignedService: std::string
    - SignedVersion: std::string
    - Value: std::string
    - from_xml: [
      [text, UserDelegationKey.SignedOid, SignedObjectId],
      [text, UserDelegationKey.SignedTid, SignedTenantId],
      [text, UserDelegationKey.SignedStart, SignedStartsOn],
      [text, UserDelegationKey.SignedExpiry, SignedExpiresOn],
      [text, UserDelegationKey.SignedService, SignedService],
      [text, UserDelegationKey.SignedVersion, SignedVersion],
      [text, UserDelegationKey.Value, Value],
    ]
  PageInfo:
    - BasicResponse: inline
    - ETag: std::string
    - LastModified: std::string
    - ContentMD5: std::string, nullable
    - ContentCRC64: std::string, nullable
    - SequenceNumber: int64_t = 0
    - BlobResponseEncryptionOptions: inline
  PageBlobInfo:
    - BasicResponse: inline
    - ETag: std::string
    - LastModified: std::string
    - SequenceNumber: int64_t = 0
  PageRangesInfoInternal:
    - BasicResponse: inline
    - ETag: std::string
    - LastModified: std::string
    - BlobContentLength: int64_t = 0
    - PageRanges: std::vector<std::pair<int64_t, int64_t>>
    - ClearRanges: std::vector<std::pair<int64_t, int64_t>>
    - from_xml: [
      [start_tag, PageList.PageRange, PageRanges],
      [start_tag, PageList.ClearRange, ClearRanges],
    ]
  BlobAppendInfo:
    - BasicResponse: inline
    - ETag: std::string
    - LastModified: std::string
    - ContentMD5: std::string, nullable
    - ContentCRC64: std::string, nullable
    - AppendOffset: int64_t = 0
    - CommittedBlockCount: int64_t = 0
    - BlobResponseEncryptionOptions: inline
